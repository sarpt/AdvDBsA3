<?xml version = '1.0' encoding = 'UTF-8'?>
<TriggerOraclev10g class="oracle.dbtools.crest.model.design.storage.oracle.v10g.TriggerOraclev10g" name="tD_RECIPE" directorySegmentName="seg_0" id="B0DD3297-90A7-AAE8-32B3-7C967707685F">
<sourceDDLFile>script.ddl</sourceDDLFile>
<createdBy>Mike</createdBy>
<createdTime>2016-10-12 16:14:09 UTC</createdTime>
<ownerDesignName>RestaurantDataModel</ownerDesignName>
<actions>DELETE</actions>
<body>-- ERwin Builtin Trigger&lt;br&gt;-- DELETE trigger on RECIPE &lt;br&gt;DECLARE NUMROWS INTEGER;&lt;br&gt;BEGIN&lt;br&gt;    /* ERwin Builtin Trigger */&lt;br&gt;    /* RECIPE  COOK_LOG on parent delete set null */&lt;br&gt;    /* ERWIN_RELATION:CHECKSUM=&quot;00029a94&quot;, PARENT_OWNER=&quot;&quot;, PARENT_TABLE=&quot;RECIPE&quot;&lt;br&gt;    CHILD_OWNER=&quot;&quot;, CHILD_TABLE=&quot;COOK_LOG&quot;&lt;br&gt;    P2C_VERB_PHRASE=&quot;&quot;, C2P_VERB_PHRASE=&quot;&quot;, &lt;br&gt;    FK_CONSTRAINT=&quot;R_15&quot;, FK_COLUMNS=&quot;RecipeID&quot; */&lt;br&gt;    UPDATE COOK_LOG&lt;br&gt;      SET&lt;br&gt;        /* %SetFK(COOK_LOG,NULL) */&lt;br&gt;        COOK_LOG.RecipeID = NULL&lt;br&gt;      WHERE&lt;br&gt;        /* %JoinFKPK(COOK_LOG,:%Old,&quot; = &quot;,&quot; AND&quot;) */&lt;br&gt;        COOK_LOG.RecipeID = :old.RecipeID;&lt;br&gt;&lt;br&gt;    /* ERwin Builtin Trigger */&lt;br&gt;    /* RECIPE  RECIPE_CHEF on parent delete restrict */&lt;br&gt;    /* ERWIN_RELATION:CHECKSUM=&quot;00000000&quot;, PARENT_OWNER=&quot;&quot;, PARENT_TABLE=&quot;RECIPE&quot;&lt;br&gt;    CHILD_OWNER=&quot;&quot;, CHILD_TABLE=&quot;RECIPE_CHEF&quot;&lt;br&gt;    P2C_VERB_PHRASE=&quot;&quot;, C2P_VERB_PHRASE=&quot;&quot;, &lt;br&gt;    FK_CONSTRAINT=&quot;R_8&quot;, FK_COLUMNS=&quot;RecipeID&quot; */&lt;br&gt;    SELECT count(*) INTO NUMROWS&lt;br&gt;      FROM RECIPE_CHEF&lt;br&gt;      WHERE&lt;br&gt;        /*  %JoinFKPK(RECIPE_CHEF,:%Old,&quot; = &quot;,&quot; AND&quot;) */&lt;br&gt;        RECIPE_CHEF.RecipeID = :old.RecipeID;&lt;br&gt;    IF (NUMROWS &gt; 0)&lt;br&gt;    THEN&lt;br&gt;      raise_application_error(&lt;br&gt;        -20001,&lt;br&gt;        &apos;Cannot delete RECIPE because RECIPE_CHEF exists.&apos;&lt;br&gt;      );&lt;br&gt;    END IF;&lt;br&gt;&lt;br&gt;    /* ERwin Builtin Trigger */&lt;br&gt;    /* RECIPE  INGREDIENT on parent delete restrict */&lt;br&gt;    /* ERWIN_RELATION:CHECKSUM=&quot;00000000&quot;, PARENT_OWNER=&quot;&quot;, PARENT_TABLE=&quot;RECIPE&quot;&lt;br&gt;    CHILD_OWNER=&quot;&quot;, CHILD_TABLE=&quot;INGREDIENT&quot;&lt;br&gt;    P2C_VERB_PHRASE=&quot;&quot;, C2P_VERB_PHRASE=&quot;&quot;, &lt;br&gt;    FK_CONSTRAINT=&quot;R_5&quot;, FK_COLUMNS=&quot;RecipeID&quot; */&lt;br&gt;    SELECT count(*) INTO NUMROWS&lt;br&gt;      FROM INGREDIENT&lt;br&gt;      WHERE&lt;br&gt;        /*  %JoinFKPK(INGREDIENT,:%Old,&quot; = &quot;,&quot; AND&quot;) */&lt;br&gt;        INGREDIENT.RecipeID = :old.RecipeID;&lt;br&gt;    IF (NUMROWS &gt; 0)&lt;br&gt;    THEN&lt;br&gt;      raise_application_error(&lt;br&gt;        -20001,&lt;br&gt;        &apos;Cannot delete RECIPE because INGREDIENT exists.&apos;&lt;br&gt;      );&lt;br&gt;    END IF;&lt;br&gt;&lt;br&gt;&lt;br&gt;-- ERwin Builtin Trigger&lt;br&gt;END;</body>
<triggerTime>AFTER</triggerTime>
<table>5F83F9E4-4700-9569-2189-351E524827A2</table>
</TriggerOraclev10g>